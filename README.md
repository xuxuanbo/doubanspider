# doubanspider
Mainly about spider of douban movies
这还是一个未能投入使用的scrapy豆瓣爬虫;
主要的问题在于单个ip下使用scrapy会被豆瓣ban掉;
在这个文件里给出了解决这个问题的一个思路：在代理ip网站上爬取一些ip作为代理ip;实现这个功能的代码放在spiders文件夹中的proxies.py文件中，
生成的代理池放在proxies.txt中，但笔者通过此渠道获取的能用的ip实在不够多，爬取到一半时还是会遭遇滚雪球的Ip被ban情况。
实现代理ip需要使用到中间件，所有相关中间件存放在middlewares.py中，通过Settings中的中间件设置进行设置。
同时代码中也实现了 代理user_agent 中间件
整个爬虫的逻辑是从列表中拿到演员名字和id之后，爬取该演员演过的所有电影的评分、上映时间、类型等等
待完善开发：
这个爬虫目前还是一个非常不成熟的爬虫
1.没有设置try,except;空值使用default值 等避错机制;需要在将来加上，以避免数据损耗。
2.没有断点重续机制，理论上并不难以实现，但要配合从数据库中拿取数据的形式和格式，具体情况具体分析
3.被ban的问题....
4.和数据库对接
